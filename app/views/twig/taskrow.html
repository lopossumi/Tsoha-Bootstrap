
{% extends "tasklist.html" %}
{% block taskrow %}
        <!-- Table row color determined by task status; hidden if archived -->
        <tr class="
        {% if task.status == 2 %}success{% endif %}
        {% if task.status == 1 %}info{% endif %} 
        {% if task.archived %} hidden{% endif %}">
            
            <!-- Task status -->
            <td>
                {% if task.status == 2 %}
                    {{ macros.action_button("post", "#{base_path}/task/#{task.id}/archive", "Archive task", "success", "ok") }}
                {% elseif task.status == 1 %}
                    {{ macros.action_button("post", "#{base_path}/task/#{task.id}/complete", "Complete task", "info", "play") }}
                {% else %}
                    {{ macros.action_button("post", "#{base_path}/task/#{task.id}/start", "Start task", "default", "play") }}
                {% endif %}
            </td>
            
            <!-- Due deadline -->
            <td>
                {% if task.duedate and task.status == 0 %}
                    {{ macros.due_label(task.duedate) }}
                {% endif %}
            </td>

            <!-- Priority stars -->
            <td>
                {% for i in 1..4 %}
                    <span class="warning glyphicon glyphicon-star{% if i>task.priority %}-empty{% endif %}"></span>
                {% endfor %}
            </td>

            <!-- Task name -->
            <td>{{task.name}}</td>

            <!-- Categories -->
            <td>
                {% for category in task.categories %}
                {{ macros.category_button_xs("#{base_path}/category/#{category.id}/list","#{category.name}", 
                "#{category.color}", "#{category.symbol}") }}
                {% endfor %}
            </td>

            <!-- Edit & remove buttons -->
            <td>
                <div class="btn-toolbar">
                 {{ macros.edit_button("#{base_path}/task/#{task.id}/edit","Edit task")}}
                 {{ macros.remove_button("#{base_path}/task/#{task.id}/remove","Remove task") }}
                </div>
            </td>

        </tr>
{% endblock %}